
name: Godot CI - Install Godot


on:
  push:
    branches:
      - "**"
      - "!main"
  pull_request:
    branches:
      - "development"

jobs:
  godot-test:
    runs-on: ubuntu-latest

    steps:
      # Schritt 1: Checkout des Repositories
      - name: Checkout repository
        uses: actions/checkout@v3

      # Schritt 2: Set up Godot
      - name: Set up Godot
        uses: firebelley/setup-godot@v1
        with:
          godot_version: '4.3'  # Stelle sicher, dass du die richtige Version verwendest

      # Schritt 3: Installiere Abhängigkeiten (falls nötig)
      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y mono-runtime  # Falls Mono für GUT benötigt wird

      # Schritt 4: Run Godot Unit Tests with GUT
      - name: Run Godot Unit Tests with GUT
        run: |
          godot -s res://Test/Unit/run_tests.gd  # Das Skript, das deine Tests ausführt